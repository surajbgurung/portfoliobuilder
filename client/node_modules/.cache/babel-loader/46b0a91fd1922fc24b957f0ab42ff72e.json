{"ast":null,"code":"import _defineProperty from \"/Users/surajgurung/Desktop/portfoliobuilder/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"/Users/surajgurung/Desktop/portfoliobuilder/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/surajgurung/Desktop/portfoliobuilder/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/surajgurung/Desktop/portfoliobuilder/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/surajgurung/Desktop/portfoliobuilder/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/surajgurung/Desktop/portfoliobuilder/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/Users/surajgurung/Desktop/portfoliobuilder/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/Users/surajgurung/Desktop/portfoliobuilder/client/src/components/auth/Login.js\";\nimport React from 'react';\nimport { login } from \"../../utils/api.js\";\nimport { Link } from 'react-router-dom'; // import { useHistory} from 'react-router-dom';\n\nimport Nav from \"../Navbar\";\n\nvar Login = /*#__PURE__*/function (_React$Component) {\n  _inherits(Login, _React$Component);\n\n  function Login(props) {\n    var _this;\n\n    _classCallCheck(this, Login);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Login).call(this, props));\n    _this.state = {\n      isDisabled: true\n    };\n    _this.submitForm = _this.submitForm.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(Login, [{\n    key: \"validateEmail\",\n    value: function validateEmail(email) {\n      var pattern = /[a-zA-Z0-9]+[\\.]?([a-zA-Z0-9]+)?[\\@][a-z]{3,9}[\\.][a-z]{2,5}/g;\n      var result = pattern.test(email);\n\n      if (result === true) {\n        this.setState({\n          emailError: false,\n          email: email\n        });\n      } else {\n        this.setState({\n          emailError: true\n        });\n      }\n    }\n  }, {\n    key: \"handleChange\",\n    value: function handleChange(e) {\n      var target = e.target;\n      var value = target.type === 'checkbox' ? target.checked : target.value;\n      var name = target.name;\n      this.setState(_defineProperty({}, name, value));\n\n      if (e.target.name === 'email') {\n        this.validateEmail(e.target.value);\n      }\n\n      if (e.target.name === 'password') {\n        if (e.target.value === '' || e.target.value === null || e.target.value.length <= 5) {\n          this.setState({\n            passwordError: true\n          });\n        } else {\n          this.setState({\n            passwordError: false,\n            password: e.target.value\n          });\n        }\n      }\n\n      if (this.state.emailError === false && this.state.passwordError === false) {\n        this.setState({\n          isDisabled: false\n        });\n      }\n    }\n  }, {\n    key: \"submitForm\",\n    value: function submitForm(e) {\n      var _this2 = this;\n\n      e.preventDefault(); // let history = useHistory();\n\n      var data = {\n        email: this.state.email,\n        password: this.state.password\n      };\n      login(data).then(function (res) {\n        // console.log(\"looking backend error in register\", res)\n        // When user logs in they will be directed to mainprofile page\n        // this.props.push('./mainprofile');\n        _this2.props.history.push('/mainprofile');\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      return /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 7\n        }\n      }, /*#__PURE__*/React.createElement(Nav, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 9\n        }\n      }), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"container\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"card card-login mx-auto mt-5\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"card-header text-primary text-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 15\n        }\n      }, \"Login\"), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"card-body\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(\"form\", {\n        id: \"signup-form\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"form-group\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"form-label-group\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"input\", {\n        type: \"email\",\n        id: \"email\",\n        name: \"email\",\n        className: \"form-control\",\n        placeholder: \"Enter your email\",\n        onChange: function onChange(e) {\n          _this3.handleChange(e);\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 23\n        }\n      }), /*#__PURE__*/React.createElement(\"label\", {\n        htmlFor: \"email\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 23\n        }\n      }), this.state.emailError ? /*#__PURE__*/React.createElement(\"span\", {\n        style: {\n          color: \"red\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 48\n        }\n      }, \"Please Enter valid email address\") : '')), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"form-group\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"form-label-group\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"input\", {\n        type: \"password\",\n        id: \"password\",\n        name: \"password\",\n        className: \"form-control\",\n        placeholder: \"Password\",\n        onChange: function onChange(e) {\n          _this3.handleChange(e);\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 23\n        }\n      }), /*#__PURE__*/React.createElement(\"label\", {\n        htmlFor: \"password\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 23\n        }\n      }), this.state.passwordError ? /*#__PURE__*/React.createElement(\"span\", {\n        style: {\n          color: \"red\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 51\n        }\n      }, \"Your password must be at least 6 characters\") : '')), /*#__PURE__*/React.createElement(\"button\", {\n        className: \"btn btn-primary btn-block\",\n        disabled: this.state.isDisabled,\n        onClick: this.submitForm,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 19\n        }\n      }, \"Login\")), /*#__PURE__*/React.createElement(\"p\", {\n        className: \"my-1 text-primary text-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 17\n        }\n      }, \"Don't have an account?\", /*#__PURE__*/React.createElement(Link, {\n        to: \"/register\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 41\n        }\n      }, /*#__PURE__*/React.createElement(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 62\n        }\n      }), \"Sign Up\"))))));\n    }\n  }]);\n\n  return Login;\n}(React.Component);\n\nexport default Login;","map":{"version":3,"sources":["/Users/surajgurung/Desktop/portfoliobuilder/client/src/components/auth/Login.js"],"names":["React","login","Link","Nav","Login","props","state","isDisabled","submitForm","bind","email","pattern","result","test","setState","emailError","e","target","value","type","checked","name","validateEmail","length","passwordError","password","preventDefault","data","then","res","history","push","handleChange","color","Component"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { login } from \"../../utils/api.js\";\nimport { Link } from 'react-router-dom';\n// import { useHistory} from 'react-router-dom';\n\nimport Nav from \"../Navbar\";\n\nclass Login extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      isDisabled: true\n    }\n    this.submitForm = this.submitForm.bind(this);\n  }\n  validateEmail(email) {\n    const pattern = /[a-zA-Z0-9]+[\\.]?([a-zA-Z0-9]+)?[\\@][a-z]{3,9}[\\.][a-z]{2,5}/g;\n    const result = pattern.test(email);\n    if (result === true) {\n      this.setState({\n        emailError: false,\n        email: email\n      })\n    } else {\n      this.setState({\n        emailError: true\n      })\n    }\n  }\n  handleChange(e) {\n    const target = e.target;\n    const value = target.type === 'checkbox' ? target.checked : target.value;\n    const name = target.name;\n    this.setState({\n      [name]: value\n    });\n    if (e.target.name === 'email') {\n      this.validateEmail(e.target.value);\n    }\n    if (e.target.name === 'password') {\n      if (e.target.value === '' || e.target.value === null || e.target.value.length <= 5) {\n        this.setState({\n          passwordError: true\n        })\n      } else {\n        this.setState({\n          passwordError: false,\n          password: e.target.value\n        })\n      }\n    }\n    if (this.state.emailError === false && this.state.passwordError === false) {\n      this.setState({\n        isDisabled: false\n      })\n    }\n  }\n  submitForm(e) {\n    e.preventDefault();\n    // let history = useHistory();\n    const data = {\n      email: this.state.email,\n      password: this.state.password\n    }\n    login(data).then(res => {\n      // console.log(\"looking backend error in register\", res)\n      // When user logs in they will be directed to mainprofile page\n      // this.props.push('./mainprofile');\n      this.props.history.push('/mainprofile');\n    });\n  }\n  render() {\n    return (\n      <div>\n        <Nav />\n          <div className=\"container\">\n            <div className=\"card card-login mx-auto mt-5\">\n              <div className=\"card-header text-primary text-center\">Login</div>\n              <div className=\"card-body\">\n                <form id=\"signup-form\">\n                  <div className=\"form-group\">\n                    <div className=\"form-label-group\">\n                      <input type=\"email\" id=\"email\" name=\"email\" className=\"form-control\" placeholder=\"Enter your email\" onChange={(e) => { this.handleChange(e) }} />\n                      <label htmlFor=\"email\"></label>\n                      {this.state.emailError ? <span style={{ color: \"red\" }}>Please Enter valid email address</span> : ''}\n                    </div>\n                  </div>\n                  <div className=\"form-group\">\n                    <div className=\"form-label-group\">\n                      <input type=\"password\" id=\"password\" name=\"password\" className=\"form-control\" placeholder=\"Password\" onChange={(e) => { this.handleChange(e) }} />\n                      <label htmlFor=\"password\"></label>\n                      {this.state.passwordError ? <span style={{ color: \"red\" }}>Your password must be at least 6 characters</span> : ''}\n                    </div>\n                  </div>\n                  <button className=\"btn btn-primary btn-block\" disabled={this.state.isDisabled} onClick={this.submitForm}>Login</button>\n                </form>\n                <p className=\"my-1 text-primary text-center\">\n                  Don't have an account?<Link to=\"/register\"><br></br>Sign Up</Link>\n                </p>\n              </div>\n            </div>\n          </div>\n      </div>\n    );\n  }\n}\n\nexport default Login;"]},"metadata":{},"sourceType":"module"}